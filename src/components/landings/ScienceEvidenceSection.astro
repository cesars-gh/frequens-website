---
import { Icon } from 'astro-icon/components';
import type { ScienceEvidenceSectionContent } from '../../types/landing';

type Props = {
	content: ScienceEvidenceSectionContent;
};

const { content } = Astro.props;
const hasReferences = content.references && content.references.length > 0;
---

<section class="py-20 bg-white">
	<div class="container mx-auto px-4 max-w-7xl">
		<div class="max-w-6xl mx-auto">
			<div class="text-center mb-12">
				<h2 class="text-3xl lg:text-4xl font-bold text-secondary-800 mb-4">{content.title}</h2>
				<p class="text-lg text-secondary-600 max-w-3xl mx-auto">{content.subtitle}</p>
			</div>

			<div class="grid md:grid-cols-2 gap-8">
				{
					content.evidenceCards.map((card) => (
						<div class="bg-gray-50 p-8 rounded-xl">
							<div class="flex items-start gap-4">
								<div class="w-10 h-10 bg-main-500 rounded-full flex items-center justify-center shrink-0">
									<Icon
										name={card.icon}
										class="w-5 h-5 text-white"
									/>
								</div>
								<div>
									<h3 class="text-lg font-semibold text-secondary-800 mb-2">{card.title}</h3>
									<p class="text-secondary-600">{card.description}</p>
								</div>
							</div>
						</div>
					))
				}
			</div>

			{
				hasReferences && (
					<div class="mt-12">
						<details class="group bg-gray-50 rounded-xl border border-gray-200">
							<summary class="flex justify-between items-center cursor-pointer p-6 text-lg font-semibold text-secondary-800">
								<span class="flex items-center gap-3">
<Icon name="glasses" class="w-5 h-5 text-main-600" />
								Referencias cient√≠ficas
								</span>
								<Icon
									name="chevron-down"
									class="w-5 h-5 text-main-600 transition-transform group-open:rotate-180"
								/>
							</summary>
							<div class="px-6 pb-6">
								<ul class="space-y-3">
									{content.references!.map((ref) => (
										<li>
											<a
												href={ref.url}
												target="_blank"
												rel="noopener noreferrer"
												class="text-secondary-600 hover:text-main-600 transition-colors inline-flex items-start gap-2 group/link"
											>
												<Icon
													name="document"
													class="w-4 h-4 mt-1 shrink-0 text-main-500"
												/>
												<span class="underline underline-offset-2 decoration-gray-300 group-hover/link:decoration-main-500">
													{ref.title}
												</span>
											</a>
										</li>
									))}
								</ul>
							</div>
						</details>
					</div>
				)
			}
		</div>
	</div>
</section>
