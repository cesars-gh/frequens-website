---
import Layout from '../layouts/Layout.astro';
import Header from '../components/common/Header.astro';
import Footer from '../components/common/Footer.astro';
import { Icon } from 'astro-icon/components';
import { faqPageContent } from '../data';
---

<Layout
	title={faqPageContent.meta.title}
	description={faqPageContent.meta.description}
	keywords={faqPageContent.meta.keywords}>
	<main class="min-h-screen bg-background">
		<Header />

		<!-- Hero Section -->
		<section class="pt-16 bg-linear-to-b from-secondary-50 to-background">
			<div class="container mx-auto px-4 max-w-4xl text-center">
				<h1 class="text-4xl lg:text-5xl font-bold text-secondary-800 mb-4">{faqPageContent.headline}</h1>
				<p class="text-xl text-secondary-600">{faqPageContent.subtitle}</p>
			</div>
		</section>

		<!-- FAQ Categories -->
		<section class="py-16">
			<div class="container mx-auto px-4 max-w-4xl">
				{
					faqPageContent.categories.map((category, categoryIndex) => (
						<div class="mb-12 last:mb-0">
							<h2 class="text-2xl font-bold text-main-600 mb-6 pb-2 border-b-2 border-main-200">
								{category.title}
							</h2>
							<div class="space-y-3">
								{category.faqs.map((faq, faqIndex) => (
									<details
										class="group bg-white rounded-xl shadow-sm border border-secondary-100 hover:border-main-200 transition-colors"
										id={`faq-${categoryIndex}-${faqIndex}`}>
										<summary class="flex justify-between items-center cursor-pointer p-5 text-lg font-medium text-secondary-800">
											<span class="pr-4">{faq.question}</span>
											<Icon
												name="chevron-down"
												class="w-5 h-5 text-main-600 transition-transform duration-200 group-open:rotate-180 shrink-0"
											/>
										</summary>
										<div class="px-5 pb-5 text-secondary-600 leading-relaxed">
											<p>{faq.answer}</p>
										</div>
									</details>
								))}
							</div>
						</div>
					))
				}
			</div>
		</section>

		<!-- CTA Section -->
		<section class="py-16 bg-main-600">
			<div class="container mx-auto px-4 max-w-4xl text-center">
				<h2 class="text-3xl font-bold text-white mb-4">¿Tienes más preguntas?</h2>
				<p class="text-white/80 mb-8 text-lg">
					Agenda una cita de evaluación y resolveremos todas tus dudas personalmente
				</p>
				<a
					href="/agendar-cita"
					class="inline-flex items-center gap-2 bg-white text-main-600 font-semibold px-8 py-4 rounded-full hover:bg-main-50 transition-colors shadow-lg">
					<Icon
						name="calendar"
						class="w-5 h-5" />
					Agendar Cita de Evaluación
				</a>
			</div>
		</section>

		<Footer />
	</main>
</Layout>
